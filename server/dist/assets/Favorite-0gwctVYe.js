import{r as c,j as e,L as l,_ as d}from"./index-_pMZagxt.js";const p=()=>{const n="https://firebasestorage.googleapis.com/v0/b/storyin-64d8b.appspot.com/o/assets%2FerrorImage.jpg?alt=media&token=8775dd92-495a-4722-9787-2e5a66485172",[o,i]=c.useState([{_id:"",title:"",description:"",poster:"",tags:""}]);c.useEffect(()=>{const s=new AbortController;return(async()=>{const a=await(await fetch("/api/fev/userList",{signal:s.signal})).json();i(a)})(),()=>s.abort()},[]);const m=async s=>{const t=await fetch(`/api/fev/create/${s}`,{method:"POST"}),{message:r,success:a}=await t.json();a===!0&&(window.location.reload(),d.success(r))};return e.jsxs("div",{className:"flex justify-center mt-4 mb-20 flex-col w-screen sm:w-[900px] m-auto items-center",children:[e.jsx("h1",{className:"font-semibold text-xl",children:"Your Favorite Books"}),e.jsx("p",{className:"mb-1 h-[1px] bg-gray-400 mt-1 w-96"}),e.jsx("div",{className:"flex gap-3 flex-col items-center w-full mt-7",children:o.length>0?o.map(s=>e.jsxs("div",{className:"flex sm:justify-start justify-center  items-center gap-3 my-4 w-[450px] overflow-hidden",children:[e.jsx(l,{className:"sm:border sm:border-black sm:p-1 sm:bg-gray-100 rounded",to:`/book/${s._id}`,children:e.jsx("img",{src:`/api/${s.poster}`,className:"object-contain w-32 h-[200px] sm:w-56 duration-300 rounded-2xl hover:scale-105",alt:"poster",onError:t=>{t.currentTarget.src=n}})}),e.jsxs("div",{className:"sm:w-[400px] w-[220px] h-full",children:[e.jsx(l,{to:`/book/${s._id}`,children:e.jsx("h2",{className:"text-lg mb-1 truncate font-semibold",children:s.title})}),e.jsx("h2",{className:"text-sm line-clamp-3",children:s.description}),e.jsx("button",{onClick:()=>m(s._id),className:"text-blue-700 mt-5",children:"remove"})]})]})):e.jsx("h1",{className:"my-2 text-sm mb-10",children:"There is no book added to Favorite list"})})]})};export{p as default};
